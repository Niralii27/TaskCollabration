@model List<TaskCollabration.Models.AdminProjectModel>

@{
    ViewData["Title"] = "Project";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<div class="content-page">
    <div class="container-fluid">

        <div class="row">
            <div class="col-lg-12">
                <div class="card">
                    <div class="card-body">
                        <div class="d-flex flex-wrap align-items-center justify-content-between breadcrumb-content">
                            <h5>Your Projects</h5>
                            <div class="d-flex flex-wrap align-items-center justify-content-between">
                                <div class="pl-3 border-left btn-new">
                                    <a asp-action="AddProject" class="btn btn-primary">New Project</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <!-- Project Grid View -->
        <div id="grid" class="item-content animate__animated animate__fadeIn active" data-toggle-extra="tab-content">
            <div class="row">

                @* @if (TempData["msg"] != null) *@
                @* { *@
                @*     <div class="alert alert-success alert-dismissible fade show" role="alert"> *@
                @*         @TempData["msg"] *@
                @*         <button type="button" class="close" data-dismiss="alert" aria-label="Close"> *@
                @*             <span aria-hidden="true">&times;</span> *@
                @*         </button> *@
                @*     </div> *@
                @* } *@

                @* @if (TempData["ErrorMessage"] != null) *@
                @* { *@
                @*     <div class="alert alert-danger alert-dismissible fade show" role="alert"> *@
                @*         @TempData["ErrorMessage"] *@
                @*         <button type="button" class="close" data-dismiss="alert" aria-label="Close"> *@
                @*             <span aria-hidden="true">&times;</span> *@
                @*         </button> *@
                @*     </div> *@
                @* } *@

                @if (TempData["msg"] != null)
                {
                    <div class="alert alert-success alert-dismissible fade show d-flex align-items-center" role="alert" style="white-space: nowrap;">
                        <i class="ri-check-line mr-2"></i> <span>@TempData["msg"]</span>
                        <button type="button" class="close ml-auto" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                }



                @foreach (var project in Model)
                {
                    <div class="col-lg-4 col-md-6">
                        <div class="card card-block card-stretch card-height">
                            <div class="card-body">
                                <h5 class="mb-1">@project.ProjectName</h5>
                                <p class="mb-3"><strong>Category:</strong> @project.Category</p>
                                <p class="mb-3"><strong>Due Date:</strong> @project.DueDate.ToShortDateString()</p>
                                <p class="mb-3">
                                    <strong>Members:</strong>
                                    @if (project.Members != null && project.Members.Any())
                                    {
                                        @string.Join(", ", project.Members) 
                                    }
                                    else
                                    {
                                        <span>No Members Assigned</span>
                                    }
                                </p>
                                @* <div class="d-flex align-items-center justify-content-between pt-3 border-top"> *@
                                @*     <a class="btn btn-sm bg-primary" asp-action="EditProject" asp-route-id="@project.Id"> *@
                                @*         <i class="ri-pencil-line"></i> Edit *@
                                @*     </a> *@
                                @*     <a class="btn btn-sm bg-danger" asp-action="DeleteProject" asp-route-id="@project.Id" onclick="return confirm('Are you sure you want to delete this project?');"> *@
                                @*         <i class="ri-delete-bin-line"></i> Delete *@
                                @*     </a> *@
                                @* </div> *@
                                <div class="pt-3">
                                    <a asp-action="EditProject" asp-route-id="@project.Id" class="btn btn-outline-primary btn-lg rounded-pill px-4">
                                        <i class="ri-edit-box-line"></i> Edit
                                    </a>
                                    <a asp-action="DeleteProject" asp-route-id="@project.Id" class="btn btn-outline-danger btn-lg rounded-pill px-4 ml-2" onclick="return confirm('Are you sure you want to delete this task?');">
                                        <i class="ri-delete-bin-line"></i> Delete
                                    </a>
                                </div>

                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>
        @* grid view end *@




    </div>
</div>
